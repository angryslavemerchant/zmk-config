/ {
    chosen {
        zmk,kscan = &kscan0;
    };

    /* Minimal dummy kscan — choose a pin that is externally held stable */
    kscan0: kscan {
        compatible = "zmk,kscan-gpio-direct";
        /* Replace CONTROLLER & PIN with a real, externally biased pin */
        input-gpios = <&gpio0 PIN GPIO_ACTIVE_LOW>;
    };

    /* EC11 encoder: external pull-ups on the module, so no internal pulls */
    encoder: encoder {
        compatible = "alps,ec11";
        /* Replace A_PIN / B_PIN with your wired pins */
        a-gpios = <&gpio0 A_PIN GPIO_ACTIVE_LOW>;
        b-gpios = <&gpio0 B_PIN GPIO_ACTIVE_LOW>;
        steps = <20>;   /* your encoder’s detents per 360° */
        status = "okay";
    };

    sensors: sensors {
        compatible = "zmk,keymap-sensors";
        sensors = <&encoder>;
        /* Tune to taste; often detents * 2 (or *4) depending on decoding */
        triggers-per-rotation = <40>;
    };
};
